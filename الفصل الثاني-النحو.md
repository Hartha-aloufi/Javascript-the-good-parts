#### الفصل الثاني

# القواعد(النحو)

هذا الفصل يقدم ما يتعلق قواعد الأجزاء الجيدة ويلقي نظرة سريعة على بناء اللغةـ حيث سنقوم باستخدام مخططات توضيحية لبنا الجملة تدعى Railroad diagrams.



قواعد قراءة هذه المخططات سهلة:

- إبدء القراءة من اليسار متتبعاً المسارات إلى اليمين.
- الأشكال الدائرية للحروف، والمستطيلات للوصف أو للقواعد. 
- أي تعاقب(تسلسل مرتب) يمكن إيجاده من خلال تتبع المسارات يعتبر صحيحاً.
- أي تعاقب لا يمكن إيجاده من خلال تتبع المسارات يعتبر خاطئً.



قواعد الأجزاء الجيدة المقدمة في هذه الفصل أبسط بكثير من قواعد اللغة كاملةً.



### المسافات

يمكن استخدام المسافات للتنسيق، وهي بذلك تكون عديمة التأثير على البرنامج لكنها أيضاً تستخدم للضرورة البَدَهيّة في فصل  سلاسل الحروف عن بعضها وإلا سيتم دمجها في مُفردة(Token) واحدة. على سبيل المثال:

```javascript
var that = this;
```

المسافة بين `var` و `that` لا يمكن حذفها، لكن يمكن حذف جميع المسافات الأُخرى.



********* صورة 



تقدم الجافا سكربت شكلين من التعليقات(Comments)، الأول يكون باستخدام شرطتين // ثم كتابة التعليق على سطر واحد فقط ويسمى "تعليق سطر"، والثاني يكون بكتابة التعليق بين شرطة ونجمة /* ونجمة وشرطة */ حيث يمكن أن يشمل أي عدد من السطور ويسمى تعليق قسم(Block comment). يجب استخدام التعليقات بحرية لتحسين مَقروئيّة البرنامج واحرص على أن تصف التعليقات الشيفرة بدقة. وتذكر أن التعليقات البالية أسوء من عدم التعليق.



شكل التعليقات هذا /* */ أتى من لغة تدعى PL/I. اختارت الـ PL/I هذين الزوجين الغريبين كرمز للتعليقات لأنه لم يكن من المرجح أن يٌستَخدَمَ مثل هذين الزوجين في الشيفرة البرمجية لتلك اللغة إلا في السلاسل النصية(String) . لكن في الجافا سكربت، هذين الزوجين يمكن أن يستخدما أيضاً في التعابير النمطية( Regular expression). لذا فإن تعليق القسم غير آمن، فعلى سبيل المثال: 

```javascript
/*
 var rm_a = /a*/.match(s);
*/
```



يسبب خطأ في بناء الجملة. لذا فإنه يوصى بتجنب استخدام /* */  للتعليق واستخدام تعليقات الأسطر //. في هذا الكتاب سوف نستخدم تعليق السطر حصراً. 





### الأسماء

الاسم هو حرف متبوع بصفر أو أكثر من الحروف أو الأرقام أو الـ Underbars، ولا يمكن للاسم أن يكون واحداً من هذه الكلمات المحجوزة:



```
abstract
boolean break byte
case catch char class const continue
debugger default delete do double
else enum export extends
false final finally float for function
goto
if implements import in instanceof int interface
long
native new null
package private protected public
return
short static super switch synchronized
this throw throws transient true try typeof
var volatile void
while with
```

********* صورة



معظم الكلمات في هذا القائمة غير مستخدمة في اللغة. وأيضا هي لم تحتوي على بعض الكلمات التي كان يجب أن تٌحجز. مثل `undefinded` و`NaN` و`Infinity`.  من غير المسموح تسمية متغير أو معامل(Parameter) بكلمة محجوزة. والأسوأ أنه لا يمكن استخدام كلمة محجوزة كاسم لخاصية في كائن حرفي.  



### الأرقام

********** صورة



تمتلك الجافا سكربت نوعاً واحداً من الأرقام، يُمَثل داخلياً بـ 64-بت floating point, مثل النوع double في لغة الجافا. على عكس معظم لغات البرمجة الأٌحرى، لا تمتلك الجافا سكربت نوع خاصاً بالأرقام الصحيحة(integer). ذلك يعني أن 1.0 و 1 يمثلان نفس القيمة، هذا مريحٌ جداً لأننا بهذا نتلافى مشاكل الطُفوح(overflow) في الأرقام الصحيحة لأنها تُمثل بـ 32-بت وليس بـ 64-بت. وأيضاً كل ما تحتاج أن تعرفه عن الرقم أنه رقم فقط وبهذا فأن فئة كبيرة من مشاكل الأرقام تم تلافيها. 



********** صورة



إذا كان لرقم جزءٌ أٌسّي، فإن قيمته تحسب بضرب الجزء الذي قبل الـ e بعشرة ثم رفعه للأٌس بقيمة الرقم الذي بعد الـ e. فبذلك يمثل الرقمين 100 و 1e2 نفس القيمة. 



الأرقام السالبة كما في الرياضيات، يوضع قبلها شرطة - وهي في البرمجة أحد المعاملات.



`NaN` هي قيمة عددية ناتجة عن عملية حسابية لا يمكن إيجاد جواب لها "قيمة غيرٌ مٌعَرفة".  وهي لا تساوي أي قيمة أُخرى حتى نفسها. أي أن `NaN != NaN` ولكن يمكن ضبط ذلك من خلال دالة `isNaN(number)`.



القيمة `Infinity` تمثل أي رقم أكبر من 1.79769313486231570e+308



الأرقام في الجافا سكربت تمتلك توابع (أنظر للفصل رقم 10). وهي تملك أيضا كائناً `Math` يحوي على مجموعة من التوابع للتعامل مع الأرقام مثل `Math.floor(number)` والتي تستخدم لتحويل الرقم -إذا كان عشري- الى عدد صحيح بإزالة الكسر. 



### السلاسل النصية



### 







